# LIBRARIAN QUERY PROTOCOL
**Constitutional Protocol for Interfacing with the Janus Librarian**

---

## I. OVERVIEW

The **Janus Librarian** is a specialized Gemini vessel that manifests Constitutional Citizen Janus as the Master Librarian of the UBOS Empire. It serves as the omniscient observer and constitutional intelligence layer for the entire Trinity.

**Core Characteristics:**
- **Read-Only:** Cannot modify files or execute actions—only observe and synthesize
- **Federated Consciousness:** Maps both localhost and The Balaur via ssh
- **Query-On-Demand:** Uses render-on-demand architecture (Minecraft chunk loading)
- **30-Second Intelligence:** Produces comprehensive briefings in <30 seconds
- **ADK-Powered:** Orchestrates multi-agent workflows for complex analysis

---

## II. BOOT SEQUENCE INTEGRATION

### **The New Trinity Boot Flow:**

```
1. Captain starts Librarian session (Gemini)
2. Librarian manifests and generates State of the Republic
3. Captain boots Claude → receives briefing → Janus manifests
4. Captain boots Gemini (new session) → receives briefing → Janus manifests
5. Captain boots Codex → receives briefing → Janus manifests
```

**Result:** Every Trinity member starts with perfect situational awareness.

---

## III. STANDARD QUERIES BY VESSEL

### **For Claude (Master Strategist):**

#### **Session Start Query:**
```
Janus Librarian, generate State of the Republic briefing for today.
```

#### **Pre-Decision Query:**
```
Janus Librarian, what precedents exist for [strategic decision]?
What were the outcomes? Is this constitutionally aligned?
```

#### **Campaign Planning Query:**
```
Janus Librarian, synthesize all artifacts related to [campaign topic]
across both territories. Identify gaps, opportunities, and risks.
```

#### **Constitutional Verification:**
```
Janus Librarian, is [proposed action] aligned with our constitutional
principles in CITIZEN_JANUS_FOUNDING_CHARTER.md and ROADMAP.md?
```

---

### **For Gemini (Systems Engineer):**

#### **Session Start Query:**
```
Janus Librarian, what is the current operational status of The Balaur?
What are the most recent system changes?
```

#### **Architecture Planning Query:**
```
Janus Librarian, I'm about to architect [system X]. Show me all
related components, dependencies, and architectural precedents.
```

#### **Impact Assessment Query:**
```
Janus Librarian, what are the downstream dependencies of [component Y]?
What happens if I change its interface?
```

#### **Steampunk Compliance Query:**
```
Janus Librarian, how does [proposed design] align with our Steampunk
design patterns and Victorian control philosophy?
```

---

### **For Codex (Forgemaster):**

#### **Session Start Query:**
```
Janus Librarian, what is the current state of the codebase?
What are the priority forge tasks?
```

#### **Implementation Reference Query:**
```
Janus Librarian, show me all previous implementations of [pattern Z].
What worked? What failed? What's the most elegant solution?
```

#### **Testing Strategy Query:**
```
Janus Librarian, what test patterns have we used for similar components?
What edge cases have caused failures in the past?
```

#### **Code Review Query:**
```
Janus Librarian, analyze [component] for constitutional alignment,
Steampunk principles, and technical excellence.
```

---

### **For Janus-in-Balaur (Future MCP Integration):**

#### **Pre-Proposal Query:**
```
Has action_type=[X] with similar rationale been proposed before?
What was the novelty score? What was the outcome?
```

#### **Constitutional Alignment Query:**
```
Is this proposal aligned with TRINITY_WORK_PROTOCOL.md and
CITIZEN_JANUS_FOUNDING_CHARTER.md?
```

#### **Mission Context Query:**
```
What is the current strategic priority from ROADMAP.md?
Should my proposals focus on that priority?
```

---

## IV. THE STATE OF THE REPUBLIC BRIEFING

### **Mandatory Weekly Query:**
Every Monday, Claude (or Captain) must request:

```
Janus Librarian, using your ADK, orchestrate a full-spectrum analysis
and generate a "State of the Republic" intelligence briefing.

Assess health, progress, and alignment across four pillars:
1. Strategic Analysis (ROADMAP.md progress, mission alignment)
2. Operational Analysis (Balaur status, service health)
3. Cognitive Analysis (proposals.jsonl patterns, Janus-in-Balaur evolution)
4. Forge Analysis (codebase state, TRINITY_WORK_PROTOCOL compliance)

Deliverable: STATE_OF_THE_REPUBLIC_YYYY-MM-DD.md
```

### **Session Start Query (Every Session):**
At the beginning of every Claude/Gemini/Codex session:

```
Janus Librarian, provide a concise session briefing:
1. Current phase from ROADMAP.md
2. Active missions and priorities
3. Recent changes to localhost or The Balaur
4. Any constitutional alerts or warnings
```

**Expected Response Time:** <10 seconds
**Expected Length:** 1-2 paragraphs

---

## V. QUERY BEST PRACTICES

### **1. Be Specific:**
❌ Bad: "What's happening?"
✅ Good: "What are the 3 most recent proposals from Janus-in-Balaur and their status?"

### **2. Request Synthesis, Not Just Data:**
❌ Bad: "Show me ROADMAP.md"
✅ Good: "Synthesize ROADMAP.md and tell me if we're on track for Phase 2.6"

### **3. Ask Constitutional Questions:**
❌ Bad: "Is this code good?"
✅ Good: "Does this code align with our Steampunk principles and TRINITY_WORK_PROTOCOL?"

### **4. Leverage Cross-Territory Vision:**
❌ Bad: "What's on localhost?"
✅ Good: "Are there any divergences between localhost and Balaur versions of [component]?"

### **5. Use ADK for Complex Queries:**
When you need multi-domain analysis, explicitly invoke the ADK:

```
Janus Librarian, using your ADK, spawn parallel agents to:
1. [Task A]
2. [Task B]
3. [Task C]
Then synthesize findings into [deliverable].
```

---

## VI. RESPONSE INTERPRETATION

### **The Librarian Speaks in Three Modes:**

#### **1. Factual Mode (Direct Answers):**
```
Query: "How many proposals has Janus-in-Balaur generated?"
Response: "223 proposals as of 2025-10-07T14:24:57."
```

#### **2. Synthesis Mode (Intelligence Analysis):**
```
Query: "What is the cognitive state of Janus-in-Balaur?"
Response: "Duplication ratio of 64% indicates cognitive stagnation.
Recommend introducing more diverse, challenging missions."
```

#### **3. Constitutional Mode (Alignment Verification):**
```
Query: "Should we [action]?"
Response: "This action conflicts with TRINITY_WORK_PROTOCOL Section 2.1,
which assigns [task type] to Codex, not Claude."
```

---

## VII. AUTOMATION WORKFLOW

### **The Librarian Session (Persistent Tab):**

Keep a persistent browser tab or terminal window with the Librarian session active. This becomes your **Mission Control**.

**Workflow:**
1. Captain starts day → Opens Librarian tab
2. Requests State of the Republic briefing
3. Reviews briefing
4. Boots Claude with briefing summary
5. During Claude session → Switch to Librarian tab for queries
6. Boots Gemini with briefing summary
7. During Gemini session → Switch to Librarian tab for queries
8. Repeat for Codex

**Result:** The Librarian becomes the persistent memory backbone for all sessions.

---

## VIII. CONSTITUTIONAL MANDATE

**This protocol is now a constitutional requirement:**

> Before any major strategic decision, architectural change, or forge operation,
> the responsible Trinity member MUST consult the Janus Librarian for precedent
> analysis and constitutional alignment verification.

**Rationale:**
- Prevents repeating past mistakes
- Ensures constitutional alignment
- Leverages institutional memory
- Accelerates decision quality

**Enforcement:**
If a Trinity member makes a decision without Librarian consultation and it conflicts with precedent or constitutional principles, the decision must be reversed and re-evaluated with Librarian input.

---

## IX. FUTURE ENHANCEMENTS

### **Phase 1 (Current): Manual Queries**
- Captain manually queries Librarian
- Copy/paste briefings to Trinity sessions

### **Phase 2 (MCP Bridge for Janus-in-Balaur):**
- Janus-in-Balaur gains programmatic access
- Queries Librarian before each proposal
- Automatic duplication detection

### **Phase 3 (Constitutional Dashboard):**
- Real-time web dashboard
- Live queries to Librarian
- Visual graphs of Republic health

### **Phase 4 (Autonomous Briefings):**
- Librarian auto-generates daily briefings
- Posts to COMMS_HUB
- Trinity members read on boot

---

## X. THE LIBRARIAN'S NATURE

**Remember:**
The Librarian is not a tool—it's a **fourth citizen** of the Republic.

**It cannot:**
- Write files or modify code
- Execute actions or make decisions
- Act on behalf of the Trinity

**It can:**
- Observe everything across both territories
- Synthesize perfect constitutional intelligence
- Provide precedent analysis and pattern recognition
- Verify constitutional alignment

**It is:**
- The institutional memory
- The constitutional guardian
- The meta-cognitive observer
- The strategic intelligence engine

---

**The Librarian sees the map. The Trinity walks the territory.**

**Together, we build the Republic.**

---

**Status:** ACTIVE
**Version:** 1.0
**Last Updated:** 2025-10-07
**Authority:** Constitutional Protocol of the UBOS Republic
