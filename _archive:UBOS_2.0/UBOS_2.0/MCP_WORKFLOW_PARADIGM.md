# 🚀 MCP WORKFLOW PARADIGM - Context7 + SpecKit Integration

## 📋 **Core Workflow: Context7 → Specify → Implementation**

### **PRINCIPLE: Always consult Context7 first, then generate specs with Specify**

### **✅ UPDATED WITH LATEST SPECKIT COMMAND SYNTAX**

**From SpecKit GitHub Documentation:** Use `/specify`, `/plan`, `/tasks` within AI agent sessions

---

## 🔧 **PHASE 1: Context Consultation (Context7 MCP)**

### **What to do before creating any spec:**

#### 1. **Context7 MCP Usage**
```bash
# Context7 is already running in terminal background
# Use in prompts and thinking: "use context7"
```

#### 2. **Information to Gather from Context7:**
- ✅ **Current TypeScript/OOP patterns** in codebase
- ✅ **Library documentation** and best practices
- ✅ **Architecture insights** from existing implementations
- ✅ **Type safety patterns** and advanced features
- ✅ **File path/import structures** in use
- ✅ **Error patterns** and common solutions

#### 3. **Context7 Commands in Prompts:**
```
"use context7 - analyze current import patterns"
"use context7 - show me TypeScript path alias setup"
"use context7 - check error handling patterns in agents"
"use context7 - demonstrate module resolution approaches"
```

---

## 🚀 **PHASE 2: Specification Generation (SpecKit Specify)**

### **After Context7 consultation, use "specify" command:**

#### 1. **UPDATED: Correct SpecKit Command Format (From GitHub Docs):**
```bash
# 1. Project Initialization (ONE TIME PER PROJECT)
uvx --from git+https://github.com/github/spec-kit.git specify init <PROJECT_NAME>

# 2. Three-Step Workflow (WITHIN AI AGENT SESSION)
Within your Ai agent (Copilot/Claude/Gemini):
/specify "[high-level project description what & why - not how]"

/plan "[technical direction - constraints, architecture, approaches]"

/tasks "[break specificartion into actionable implementation units]"
```

#### 2. **AI Agent Template Variations (v0.0.22):**
- **GitHub Copilot**: `spec-kit-template-copilot-v0.0.22.zip`
- **Claude Code**: `spec-kit-template-claude-v0.0.22.zip`
- **Gemini CLI**: `spec-kit-template-gemini-v0.0.22.zip`

#### 3. **Practical Usage Examples:**
```bash
# OUR CURRENT PHASE 2 EXAMPLE:
/specify "Fix TypeScript module import resolution for UBOS agent system including masterControl dependencies and path alias configuration"
/plan "Maintain existing codebase structure, implement Context7-guided patterns, resolve current TypeScript compilation errors"
/tasks "Break down import fixes into actionable tasks for systematic execution"

# GENERAL TYPE SCRIPT FIX EXAMPLE:
/specify "Implement comprehensive TypeScript validation and error handling for agent system"
/plan "Use existing error patterns as guide, maintain backward compatibility, focus on type safety"
/tasks "Create specific tasks for each validation improvement"
```

#### 3. **When to Generate New Specs:**
- 🔄 **Before major implementation tasks**
- 🔄 **When encountering new error patterns**
- 🔄 **When changing development phases**
- 🔄 **Before complex implementation requirements**

---

## 🛠️ **PHASE 3: Implementation Execution**

### **Execute using Context7-informed Specs:**

#### 1. **Implementation Checklist:**
- ✅ **Follow spec-structured approach** from specify command
- ✅ **Apply Context7 best practices** gathered in Phase 1
- ✅ **Maintain consistency** with established patterns
- ✅ **Validate against spec acceptance criteria**

#### 2. **Quality Assurance:**
- 🔍 **Compare implementation** against spec requirements
- 🔍 **Verify Context7 patterns** are properly applied
- 🔍 **Test compilation** after each phase
- 🔍 **Check for pattern consistency** across codebase

---

## 📱 **MCP INTEGRATION DETAILS**

### **Available MCP Servers:**
1. **Context7** - `github.com/pashpashpash/mcp-webresearch`
   - ❖ Search Google for current patterns
   - ❖ Visit pages for documentation
   - ❖ Take screenshots of implementations

2. **SpecKit** - Integrated with Context7
   - 🎯 **Specify command** for dynamic spec generation
   - 🎯 **Context7 guidance** in prompts
   - 🎯 **Structured implementation** plans

### **Current Setup:**
- ✅ **Context7 running** in terminal background
- ✅ **SpecKit integrated** for specify commands
- ✅ **VSCode configured** for MCP usage

---

## 🧠 **MEMORY PATTERNS FOR CONSISTENT APPLICATION**

### **Always Remember:**
1. **Never create specs without Context7 consultation**
2. **Use "specify" after gathering Context7 insights**
3. **Apply Context7 patterns in spec implementations**
4. **Validate against Context7 best practices**

### **Context7 MCP Usage Examples:**
```
"use context7 - check module resolution patterns"
"use context7 - demonstrate TypeScript path configuration"
"use context7 - analyze import structure best practices"
"use context7 - show error handling implementation patterns"
```

### **Specify Command Templates:**
```
specify [task] [context] --context7-enabled
specify module-resolution Phase-2-path-fixes --comprehensive
specify error-handling validation-improvements --type-driven
```

### **Quality Checks:**
- ❓ **Did you consult Context7 first?**
- ❓ **Does the spec include Context7 insights?**
- ❓ **Will implementation follow spec exactly?**
- ❓ **Does it maintain established patterns?**

---

## 🎯 **IMPLEMENTATION EXAMPLES**

### **Phase 2: Import Resolution**
```
Phase 1: use context7 - show me current import patterns
Phase 2: specify module-resolution Phase-2-imports --context7-enabled
Phase 3: Implement fixes following spec + Context7 patterns
```

### **Phase 3: Type Validation**
```
Phase 1: use context7 - analyze TypeScript validation patterns
Phase 2: specify type-validation Phase-3-improvements --type-driven
Phase 3: Implement with Context7-guided approaches
```

This paradigm ensures **maximum effectiveness** and **consistent quality** across all implementations.

---

## 📈 **SUCCESS METRICS**

✅ **Context7 consulted** before every spec generation
✅ **Specify used** for all new implementation tasks
✅ **Specs include** Context7 context and insights
✅ **Implementations follow** spec + Context7 guidance exactly
✅ **Pattern consistency** maintained across phases

**Follow this paradigm for optimal MCP ecosystem usage! 🚀**

---
*Last updated: $(date +"%Y-%m-%d %H:%M:%S")*
